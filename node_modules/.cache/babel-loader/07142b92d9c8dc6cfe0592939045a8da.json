{"remainingRequest":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/thread-loader/dist/cjs.js!/Users/daniellopez/Downloads/snipp.in-master/node_modules/babel-loader/lib/index.js!/Users/daniellopez/Downloads/snipp.in-master/src/store/modules/Editor/actions.js","dependencies":[{"path":"/Users/daniellopez/Downloads/snipp.in-master/src/store/modules/Editor/actions.js","mtime":1608957294000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2RhbmllbGxvcGV6L0Rvd25sb2Fkcy9zbmlwcC5pbi1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZGFuaWVsbG9wZXovRG93bmxvYWRzL3NuaXBwLmluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZGFuaWVsbG9wZXovRG93bmxvYWRzL3NuaXBwLmluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kYW5pZWxsb3Blei9Eb3dubG9hZHMvc25pcHAuaW4tbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgdHlwZXMgfSBmcm9tICIuL211dGF0aW9ucyI7CmltcG9ydCBPcGVuRmlsZUZvb3RwcmludCBmcm9tICJAL21vZGVscy9vcGVuRmlsZUZvb3RwcmludC5tb2RlbCI7CmltcG9ydCBkYiBmcm9tICJAL3V0aWxzL2RiIjsKaW1wb3J0IHsgRURJVE9SUyB9IGZyb20gIi4vaW5pdGlhbFN0YXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIC8qKgogICAqIE9wZW5zIGEgZmlsZSBpbiBhY3RpdmUgZWRpdG9yIG9yIHByaW1hcnkgZWRpdG9yCiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIGlkIG9mIHRoZSBmaWxlCiAgICovCiAgb3BlbkZpbGU6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfb3BlbkZpbGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgX3JlZjIpIHsKICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGRpc3BhdGNoLCBpZCwgbmV3T3BlbkZpbGU7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgaWQgPSBfcmVmMi5pZDsKCiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGZpbGUgaXMgYWxyZWFkeSBvcGVuZWQgaW4gdGhlIGFjdGl2ZSBlZGl0b3IKICAgICAgICAgICAgICBpZiAoIXN0YXRlLm9wZW5GaWxlc1tzdGF0ZS5hY3RpdmVFZGl0b3JdLmluY2x1ZGVzKGlkKSkgewogICAgICAgICAgICAgICAgY29tbWl0KHR5cGVzLlNFVF9PUEVOX0ZJTEVTLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLm9wZW5GaWxlcyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIHN0YXRlLmFjdGl2ZUVkaXRvciwgW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5vcGVuRmlsZXNbc3RhdGUuYWN0aXZlRWRpdG9yXSksIFtpZF0pKSkpOwogICAgICAgICAgICAgICAgbmV3T3BlbkZpbGUgPSBuZXcgT3BlbkZpbGVGb290cHJpbnQoewogICAgICAgICAgICAgICAgICBlZGl0b3I6IHN0YXRlLmFjdGl2ZUVkaXRvciwKICAgICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRiLm9wZW5GaWxlcy5hZGQobmV3T3BlbkZpbGUsIFsiaWQiXSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSAvLyBzZXQgYXMgdGhlIGFjdGl2ZSBmaWxlIGluIHRoZSBlZGl0b3IKICAgICAgICAgICAgICAvLyBjb21taXQodHlwZXMuU0VUX0FDVElWRV9GSUxFUywgewogICAgICAgICAgICAgIC8vICAgLi4uc3RhdGUuYWN0aXZlRmlsZXMsCiAgICAgICAgICAgICAgLy8gICBbc3RhdGUuYWN0aXZlRWRpdG9yXTogaWQsCiAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgLy8gY2FsbGluZyBkaXNwYXRjaCBiZWNhdXNlIGFjdGl2ZUZpbGVJZCBuZWVkcyB0byBiZSBzYXZlZCBpbiBpbmRleGVkREIKCgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgic2V0QWN0aXZlRmlsZSIsIHsKICAgICAgICAgICAgICAgIGVkaXRvcjogc3RhdGUuYWN0aXZlRWRpdG9yLAogICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG9wZW5GaWxlKF94LCBfeDIpIHsKICAgICAgcmV0dXJuIF9vcGVuRmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBvcGVuRmlsZTsKICB9KCksCgogIC8qKgogICAqIE9wZW5zIGEgbGlzdCBvZiBmaWxlcyBpbiBwcmltYXJ5IGVkaXRvcgogICAqIEBwYXJhbSB7QXJyYXl9IGlkcyBvZiB0aGUgZmlsZQogICAqLwogIHJlT3BlbkZpbGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlT3BlbkZpbGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMywgX3JlZjQpIHsKICAgICAgdmFyIF9vYmplY3RTcHJlYWQzLCBfb2JqZWN0U3ByZWFkNDsKCiAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBvcGVuRmlsZXMsIGFjdGl2ZUZpbGVzLCBwcmltYXJ5RmlsZXMsIHNlY29uZGFyeUZpbGVzLCBwcmltYXJ5QWN0aXZlRmlsZSwgc2Vjb25kYXJ5QWN0aXZlRmlsZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlLCBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgb3BlbkZpbGVzID0gX3JlZjQub3BlbkZpbGVzLCBhY3RpdmVGaWxlcyA9IF9yZWY0LmFjdGl2ZUZpbGVzOwogICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBmaWxlIGlzIGFscmVhZHkgb3BlbmVkIGluIHRoZSBhY3RpdmUgZWRpdG9yCiAgICAgICAgICAgICAgLy8gaWYgKCFzdGF0ZS5vcGVuRmlsZXNbc3RhdGUuYWN0aXZlRWRpdG9yXS5pbmNsdWRlcyhpZCkpIHsKICAgICAgICAgICAgICBwcmltYXJ5RmlsZXMgPSBbXSwgc2Vjb25kYXJ5RmlsZXMgPSBbXTsKICAgICAgICAgICAgICBvcGVuRmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICAgICAgaWYgKGZpbGUuZWRpdG9yID09PSBFRElUT1JTLnByaW1hcnkpIHsKICAgICAgICAgICAgICAgICAgcHJpbWFyeUZpbGVzLnB1c2goZmlsZS5pZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzZWNvbmRhcnlGaWxlcy5wdXNoKGZpbGUuaWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCh0eXBlcy5TRVRfT1BFTl9GSUxFUywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5vcGVuRmlsZXMpLCB7fSwgKF9vYmplY3RTcHJlYWQzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMywgRURJVE9SUy5wcmltYXJ5LCBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLm9wZW5GaWxlc1tFRElUT1JTLnByaW1hcnldKSwgcHJpbWFyeUZpbGVzKSksIF9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMywgRURJVE9SUy5zZWNvbmRhcnksIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUub3BlbkZpbGVzW0VESVRPUlMuc2Vjb25kYXJ5XSksIHNlY29uZGFyeUZpbGVzKSksIF9vYmplY3RTcHJlYWQzKSkpOyAvLyB9CiAgICAgICAgICAgICAgLy8gc2V0IGFzIHRoZSBhY3RpdmUgZmlsZSBpbiB0aGUgZWRpdG9yCgogICAgICAgICAgICAgIGFjdGl2ZUZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgICAgICAgIGlmIChmaWxlLmVkaXRvciA9PT0gRURJVE9SUy5wcmltYXJ5KSB7CiAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3RpdmVGaWxlID0gZmlsZS5pZDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHNlY29uZGFyeUFjdGl2ZUZpbGUgPSBmaWxlLmlkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCh0eXBlcy5TRVRfQUNUSVZFX0ZJTEVTLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLmFjdGl2ZUZpbGVzKSwge30sIChfb2JqZWN0U3ByZWFkNCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX29iamVjdFNwcmVhZDQsIEVESVRPUlMucHJpbWFyeSwgcHJpbWFyeUFjdGl2ZUZpbGUpLCBfZGVmaW5lUHJvcGVydHkoX29iamVjdFNwcmVhZDQsIEVESVRPUlMuc2Vjb25kYXJ5LCBzZWNvbmRhcnlBY3RpdmVGaWxlKSwgX29iamVjdFNwcmVhZDQpKSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gcmVPcGVuRmlsZXMoX3gzLCBfeDQpIHsKICAgICAgcmV0dXJuIF9yZU9wZW5GaWxlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiByZU9wZW5GaWxlczsKICB9KCksCgogIC8qKgogICAqIENsb3NlIGEgZmlsZSBmcm9tIGFuIGVkaXRvcgogICAqIEBwYXJhbSB7U3RyaW5nfSBlZGl0b3IgSWQvbmFtZSBvZiB0aGUgZWRpdG9yCiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIGlkIG9mIHRoZSBmaWxlIHRvIGJlIGNsb3NlZAogICAqLwogIGNsb3NlRmlsZTogZnVuY3Rpb24gKCkgewogICAgdmFyIF9jbG9zZUZpbGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KF9yZWY1LCBfcmVmNikgewogICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIGVkaXRvciwgaWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwgY29tbWl0ID0gX3JlZjUuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwogICAgICAgICAgICAgIGVkaXRvciA9IF9yZWY2LmVkaXRvciwgaWQgPSBfcmVmNi5pZDsKCiAgICAgICAgICAgICAgaWYgKCEoc3RhdGUuYWN0aXZlRmlsZXNbZWRpdG9yXSA9PT0gaWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHsKICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yLAogICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUKICAgICAgICAgICAgICB9KTsgLy9zZXQgdGhlIGZpcnN0IGZpbGUgaW4gdGhlIGVkaXRvcidzIG9wZW4gZmlsZXMgYXMgdGhlIGFjdGl2ZSBmaWxlCgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goInNldEFjdGl2ZUZpbGUiLCB7CiAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvciwKICAgICAgICAgICAgICAgIGlkOiBzdGF0ZS5vcGVuRmlsZXNbZWRpdG9yXS5maWx0ZXIoZnVuY3Rpb24gKF9pZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX2lkICE9PSBpZDsKICAgICAgICAgICAgICAgIH0pWzBdIHx8IG51bGwKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGZpbGUgZnJvbSB0aGUgb3BlbiBlZGl0b3JzCiAgICAgICAgICAgICAgY29tbWl0KHR5cGVzLlNFVF9PUEVOX0ZJTEVTLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLm9wZW5GaWxlcyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGVkaXRvciwgc3RhdGUub3BlbkZpbGVzW2VkaXRvcl0gPyBzdGF0ZS5vcGVuRmlsZXNbZWRpdG9yXS5maWx0ZXIoZnVuY3Rpb24gKF9pZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF9pZCAhPT0gaWQ7CiAgICAgICAgICAgICAgfSkgOiBbXSkpKTsgLy8gZGVidWdnZXIKCiAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oInJ3IiwgZGIub3BlbkZpbGVzLCBkYi5hY3RpdmVGaWxlcywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5vcGVuRmlsZXMud2hlcmUoImlkIikuZXF1YWxzKGlkKS5kZWxldGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaWxlICIuY29uY2F0KGlkLCAiIGRlbGV0ZWQhIikpOyAvLyByZW1vdmluZyBleGlzdGluZyBhY3RpdmUgZmlsZSBpZiBubyBmaWxlIGlzIG9wZW5lZC4KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0YXRlLm9wZW5GaWxlc1tlZGl0b3JdLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLmFjdGl2ZUZpbGVzLmNsZWFyKCk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWN0aXZlRmlsZXMgZW1wdGllZC4iKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICB9KSkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInRyYW5zYWN0aW9uIGRvbmUiKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkdlbmVyaWMgZXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY2xvc2VGaWxlKF94NSwgX3g2KSB7CiAgICAgIHJldHVybiBfY2xvc2VGaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNsb3NlRmlsZTsKICB9KCksCgogIC8qKgogICAqIENsb3NlIGEgZmlsZSBmcm9tIGFsbCB0aGUgYXZhaWxhYmxlIGVkaXRvcgogICAqIHVzZWQgd2hlbiBhIGZpbGUgaXMgYmVpbmcgZGVsZXRlZAogICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBpZCBvZiB0aGUgZmlsZSB0byBiZSBjbG9zZWQKICAgKi8KICBjbG9zZUZpbGVGcm9tQWxsRWRpdG9yOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2Nsb3NlRmlsZUZyb21BbGxFZGl0b3IgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KF9yZWY4LCBfcmVmOSkgewogICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoLCBpZCwgZWRpdG9ycywgaTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY4LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY4LmRpc3BhdGNoOwogICAgICAgICAgICAgIGlkID0gX3JlZjkuaWQ7CiAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBmaWxlIGZyb20gdGhlIG9wZW4gZmlsZXMgbGlzdCBvZiBhbGwgZWRpdG9ycwogICAgICAgICAgICAgIGVkaXRvcnMgPSBPYmplY3Qua2V5cyhzdGF0ZS5vcGVuRmlsZXMpOwogICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGlmICghKGkgPCBlZGl0b3JzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICghc3RhdGUub3BlbkZpbGVzW2VkaXRvcnNbaV1dLmluY2x1ZGVzKGlkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJjbG9zZUZpbGUiLCB7CiAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvcnNbaV0sCiAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBjbG9zZUZpbGVGcm9tQWxsRWRpdG9yKF94NywgX3g4KSB7CiAgICAgIHJldHVybiBfY2xvc2VGaWxlRnJvbUFsbEVkaXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjbG9zZUZpbGVGcm9tQWxsRWRpdG9yOwogIH0oKSwKCiAgLyoqCiAgICogU2V0IGEgZmlsZSBhcyBhbiBhY3RpdmUgZmlsZSBpbiBhbiBlZGl0b3IKICAgKiBAcGFyYW0ge1N0cmluZ30gZWRpdG9yIG5hbWUgb2YgdGhlIGVkaXRvcgogICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBpZCBvZiB0aGUgZmlsZSB0byBzZXQgYWN0aXZlCiAgICovCiAgc2V0QWN0aXZlRmlsZTogZnVuY3Rpb24gKCkgewogICAgdmFyIF9zZXRBY3RpdmVGaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihfcmVmMTAsIF9yZWYxMSkgewogICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZWRpdG9yLCBpZCwgbmV3QWN0aXZlRmlsZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxMC5zdGF0ZSwgY29tbWl0ID0gX3JlZjEwLmNvbW1pdDsKICAgICAgICAgICAgICBlZGl0b3IgPSBfcmVmMTEuZWRpdG9yLCBpZCA9IF9yZWYxMS5pZDsKICAgICAgICAgICAgICBjb21taXQodHlwZXMuU0VUX0FDVElWRV9GSUxFUywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5hY3RpdmVGaWxlcyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGVkaXRvciwgaWQpKSk7CgogICAgICAgICAgICAgIGlmIChpZCAmJiBlZGl0b3IpIHsKICAgICAgICAgICAgICAgIG5ld0FjdGl2ZUZpbGUgPSBuZXcgT3BlbkZpbGVGb290cHJpbnQoewogICAgICAgICAgICAgICAgICBlZGl0b3I6IHN0YXRlLmFjdGl2ZUVkaXRvciwKICAgICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgICB9KTsgLy8gcmVwbGFjZXMgdGhlIGFjdGl2ZUZpbGUgc3RvcmVkIGluIEluZGV4ZWREQiB3aXRoIHRoZSBuZXcgYWN0aXZlIGZpbGUKCiAgICAgICAgICAgICAgICBkYi5hY3RpdmVGaWxlcy5wdXQobmV3QWN0aXZlRmlsZSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHNldEFjdGl2ZUZpbGUoX3g5LCBfeDEwKSB7CiAgICAgIHJldHVybiBfc2V0QWN0aXZlRmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBzZXRBY3RpdmVGaWxlOwogIH0oKQp9Ow=="},{"version":3,"sources":["/Users/daniellopez/Downloads/snipp.in-master/src/store/modules/Editor/actions.js"],"names":["types","OpenFileFootprint","db","EDITORS","openFile","state","commit","dispatch","id","openFiles","activeEditor","includes","SET_OPEN_FILES","newOpenFile","editor","add","catch","error","console","reOpenFiles","activeFiles","primaryFiles","secondaryFiles","forEach","file","primary","push","secondary","primaryActiveFile","secondaryActiveFile","SET_ACTIVE_FILES","closeFile","log","isActive","filter","_id","transaction","where","equals","delete","length","clear","then","closeFileFromAllEditor","editors","Object","keys","i","setActiveFile","newActiveFile","put"],"mappings":"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","sourcesContent":["import { types } from \"./mutations\";\nimport OpenFileFootprint from \"@/models/openFileFootprint.model\";\nimport db from \"@/utils/db\";\nimport { EDITORS } from \"./initialState\";\n\nexport default {\n  /**\n   * Opens a file in active editor or primary editor\n   * @param {String} id id of the file\n   */\n  openFile: async ({ state, commit, dispatch }, { id }) => {\n    // check if the file is already opened in the active editor\n    if (!state.openFiles[state.activeEditor].includes(id)) {\n      commit(types.SET_OPEN_FILES, {\n        ...state.openFiles,\n        [state.activeEditor]: [...state.openFiles[state.activeEditor], id],\n      });\n      let newOpenFile = new OpenFileFootprint({\n        editor: state.activeEditor,\n        id: id,\n      });\n      db.openFiles.add(newOpenFile, [\"id\"]).catch((error) => {\n        console.error(error);\n      });\n    }\n    // set as the active file in the editor\n    // commit(types.SET_ACTIVE_FILES, {\n    //   ...state.activeFiles,\n    //   [state.activeEditor]: id,\n    // });\n\n    // calling dispatch because activeFileId needs to be saved in indexedDB\n    await dispatch(\"setActiveFile\", {\n      editor: state.activeEditor,\n      id: id,\n    });\n  },\n\n  /**\n   * Opens a list of files in primary editor\n   * @param {Array} ids of the file\n   */\n\n  reOpenFiles: async ({ state, commit }, { openFiles, activeFiles }) => {\n    // check if the file is already opened in the active editor\n    // if (!state.openFiles[state.activeEditor].includes(id)) {\n    let primaryFiles = [],\n      secondaryFiles = [];\n    openFiles.forEach((file) => {\n      if (file.editor === EDITORS.primary) {\n        primaryFiles.push(file.id);\n      } else {\n        secondaryFiles.push(file.id);\n      }\n    });\n\n    commit(types.SET_OPEN_FILES, {\n      ...state.openFiles,\n      [EDITORS.primary]: [...state.openFiles[EDITORS.primary], ...primaryFiles],\n      [EDITORS.secondary]: [\n        ...state.openFiles[EDITORS.secondary],\n        ...secondaryFiles,\n      ],\n    });\n    // }\n    // set as the active file in the editor\n\n    let primaryActiveFile, secondaryActiveFile;\n    activeFiles.forEach((file) => {\n      if (file.editor === EDITORS.primary) {\n        primaryActiveFile = file.id;\n      } else {\n        secondaryActiveFile = file.id;\n      }\n    });\n    commit(types.SET_ACTIVE_FILES, {\n      ...state.activeFiles,\n      [EDITORS.primary]: primaryActiveFile,\n      [EDITORS.secondary]: secondaryActiveFile,\n    });\n  },\n\n  /**\n   * Close a file from an editor\n   * @param {String} editor Id/name of the editor\n   * @param {String} id id of the file to be closed\n   */\n  closeFile: async ({ state, commit, dispatch }, { editor, id }) => {\n    // check if the file is currently opened\n    if (state.activeFiles[editor] === id) {\n      console.log({ editor, id, isActive: true });\n\n      //set the first file in the editor's open files as the active file\n\n      await dispatch(\"setActiveFile\", {\n        editor,\n        id: state.openFiles[editor].filter((_id) => _id !== id)[0] || null,\n      });\n    }\n\n    // remove the file from the open editors\n    commit(types.SET_OPEN_FILES, {\n      ...state.openFiles,\n      // check if there are any open files in the editor\n      [editor]: state.openFiles[editor]\n        ? state.openFiles[editor].filter((_id) => _id !== id)\n        : [],\n    });\n    // debugger\n\n    db.transaction(\"rw\", db.openFiles, db.activeFiles, async () => {\n      // removing closed files fron openFiles\n      await db.openFiles\n        .where(\"id\")\n        .equals(id)\n        .delete();\n      console.log(`file ${id} deleted!`);\n\n      // removing existing active file if no file is opened.\n      if (state.openFiles[editor].length === 0) {\n        await db.activeFiles.clear();\n        console.log(`activeFiles emptied.`);\n      }\n    })\n      .then(() => {\n        console.log(\"transaction done\");\n      })\n      .catch((error) => {\n        console.error(\"Generic error: \" + error);\n      });\n  },\n\n  /**\n   * Close a file from all the available editor\n   * used when a file is being deleted\n   * @param {String} id id of the file to be closed\n   */\n  closeFileFromAllEditor: async ({ state, dispatch }, { id }) => {\n    // remove the file from the open files list of all editors\n    const editors = Object.keys(state.openFiles);\n    for (let i = 0; i < editors.length; i++) {\n      if (state.openFiles[editors[i]].includes(id)) {\n        await dispatch(\"closeFile\", { editor: editors[i], id });\n      }\n    }\n  },\n\n  /**\n   * Set a file as an active file in an editor\n   * @param {String} editor name of the editor\n   * @param {String} id id of the file to set active\n   */\n  setActiveFile: async ({ state, commit }, { editor, id }) => {\n    commit(types.SET_ACTIVE_FILES, {\n      ...state.activeFiles,\n      [editor]: id,\n    });\n\n    if (id && editor) {\n      let newActiveFile = new OpenFileFootprint({\n        editor: state.activeEditor,\n        id: id,\n      });\n\n      // replaces the activeFile stored in IndexedDB with the new active file\n      db.activeFiles.put(newActiveFile).catch((error) => {\n        console.error(error);\n      });\n    }\n  },\n};\n"]}]}