{"remainingRequest":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniellopez/Downloads/snipp.in-master/src/components/CommandCenter.vue?vue&type=style&index=0&id=49c8d2f1&lang=scss&scoped=true&","dependencies":[{"path":"/Users/daniellopez/Downloads/snipp.in-master/src/components/CommandCenter.vue","mtime":1608957294000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daniellopez/Downloads/snipp.in-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50b2dnbGUgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYm90dG9tOiAxMnB4OwogIHJpZ2h0OiAxMnB4OwogIHdpZHRoOiA1MHB4OwogIGhlaWdodDogNTBweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgY29sb3I6IHZhcigtLWZvbnQtY29sb3IpOwogIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXByaW1hcnkpOwogIHRyYW5zaXRpb246IDAuMXMgYWxsIGVhc2UtaW4tb3V0OwoKICAmOmhvdmVyIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIC8vIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMTVweCB2YXIoLS1jb2xvci1zZWNvbmRhcnkpOwogIH0KCiAgJjphY3RpdmUgewogICAgb3BhY2l0eTogMC44OwogIH0KfQoKLmNvbW1hbmQtY2VudGVyIHsKICB6LWluZGV4OiA5OTk5OwoKICAuY29tbWFuZC1tZW51IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHZhcigtLXBvcHVwLWJhY2tncm91bmQpOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CgogICAgLmNvbW1hbmQtY2FyZCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIHdpZHRoOiA5MCU7CiAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itc2Vjb25kYXJ5KTsKICAgICAgbWFyZ2luLXRvcDogMTUwcHg7CgogICAgICAuaGVhZGVyIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itc2Vjb25kYXJ5LWxpZ2h0KTsKICAgICAgICBtYXJnaW46IDVweDsKICAgICAgICBwYWRkaW5nOiAwIDE1cHggMCAxMHB4OwoKICAgICAgICAubGVmdC1pY29uIHsKICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4OwogICAgICAgIH0KCiAgICAgICAgaW5wdXQgewogICAgICAgICAgZmxleDogMTsKICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgICAgYm9yZGVyOiAwOwogICAgICAgICAgcGFkZGluZzogMTVweCA1cHg7CiAgICAgICAgICBjb2xvcjogdmFyKC0tZm9udC1jb2xvcik7CiAgICAgICAgICBtaW4td2lkdGg6IDIwcHg7CiAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgIH0KCiAgICAgICAgI2NvbW1hbmQtaW5wdXQgewogICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItYWNjZW50KTsKICAgICAgICB9CgogICAgICAgIC5wYXJhbWV0ZXItaW5wdXQgewogICAgICAgICAgZmxleDogMTsKICAgICAgICAgIHBhZGRpbmc6IDE1cHggMDsKICAgICAgICB9CgogICAgICAgIC5hcnJvdy1idXR0b24gewogICAgICAgICAgYm9yZGVyOiAwOwogICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgICAgY29sb3I6IHZhcigtLWZvbnQtY29sb3IpOwogICAgICAgICAgb3BhY2l0eTogMC4zOwoKICAgICAgICAgICYuYWN0aXZlIHsKICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIC5jb250ZW50cyB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwoKICAgICAgICAuaXRlbSB7CiAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byBhdXRvIDFmciBhdXRvOwogICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgICAgICAuY29tbWFuZCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIC8vIGNvbG9yOiB2YXIoLS1jb2xvci1wcmltYXJ5KTsKICAgICAgICAgIH0KCiAgICAgICAgICAubmFtZSB7CiAgICAgICAgICAgIG9wYWNpdHk6IDAuODsKICAgICAgICAgICAgLnBhcmFtZXRlciB7CiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAuc2hvcnRjdXQgewogICAgICAgICAgICBvcGFjaXR5OiAwLjc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["CommandCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommandCenter.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    class=\"command-center\"\n    v-shortkey=\"['alt', 'k']\"\n    @shortkey=\"toggleCommandMenu\"\n  >\n    <ZoomCenterTransition>\n      <div class=\"toggle\" v-if=\"!showMenu\" @click=\"toggleCommandMenu\">\n        <CommandIcon />\n      </div>\n    </ZoomCenterTransition>\n\n    <SlideYUpTransition>\n      <div\n        class=\"command-menu\"\n        v-if=\"showMenu\"\n        v-shortkey=\"['esc']\"\n        @shortkey=\"toggleCommandMenu\"\n        @click.self=\"toggleCommandMenu\"\n      >\n        <div class=\"command-card\">\n          <form\n            @submit.prevent=\"execute\"\n            :class=\"['header', { active: !!activeCommand }]\"\n          >\n            <TerminalIcon class=\"left-icon\" size=\"18\" />\n            <input\n              ref=\"commandInput\"\n              id=\"command-input\"\n              type=\"text\"\n              placeholder=\"Type your command\"\n              v-model=\"command\"\n              name=\"command\"\n              size=\"2\"\n              :style=\"{\n                flex: activeCommand ? '0' : '1',\n              }\"\n              autocomplete=\"off\"\n              autofocus\n            />\n            <input\n              v-show=\"activeCommand\"\n              ref=\"parameterInput\"\n              type=\"text\"\n              name=\"parameter\"\n              class=\"parameter-input\"\n              v-model=\"parameter\"\n              @keydown=\"(e) => clearIfEmpty(e)\"\n              autocomplete=\"off\"\n              :placeholder=\"activeCommand && activeCommand.parameter\"\n            />\n            <button\n              :class=\"[\n                'arrow-button',\n                { active: command && command.length > 1 },\n              ]\"\n              type=\"submit\"\n            >\n              <ArrowRightIcon size=\"18\" />\n            </button>\n          </form>\n          <div class=\"contents\">\n            <div\n              v-for=\"(command, index) in filtererdCommands\"\n              :key=\"index\"\n              class=\"item\"\n            >\n              <CommandIcon size=\"18\" />\n              <span class=\"command\">{{ command.command }}</span>\n              <span class=\"name\"\n                >{{ command.name\n                }}<span v-if=\"command.parameter\" class=\"parameter\">\n                  -> {{ command.parameter }}</span\n                ></span\n              >\n              <span class=\"shortcut\">{{\n                command.shortcut ? command.shortcut.join(\" + \") : \"\"\n              }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SlideYUpTransition>\n  </div>\n</template>\n\n<script>\nimport { CommandIcon, TerminalIcon, ArrowRightIcon } from \"vue-feather-icons\";\nimport { ZoomCenterTransition, SlideYUpTransition } from \"vue2-transitions\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  components: {\n    CommandIcon,\n    ZoomCenterTransition,\n    SlideYUpTransition,\n    TerminalIcon,\n    ArrowRightIcon,\n  },\n  data() {\n    return {\n      showMenu: false,\n      activeCommand: null,\n      command: \"\",\n      parameter: \"\",\n      commands: [\n        {\n          command: \"/k\",\n          name: \"Toggle command center\",\n          shortcut: [\"alt\", \"k\"],\n          parameter: null,\n        },\n        {\n          command: \"/n\",\n          name: \"Create new file\",\n          shortcut: [\"alt\", \"n\"],\n          parameter: \"File Name\",\n        },\n        {\n          command: \"/f\",\n          name: \"Create new folder\",\n          shortcut: [\"ctrl\", \"alt\", \"n\"],\n          parameter: \"Folder Name\",\n        },\n        {\n          command: \"/w\",\n          name: \"Close active file\",\n          shortcut: [\"alt\", \"w\"],\n          parameter: false,\n        },\n        // {\n        //   command: \"/s\",\n        //   name: \"Search files and folders\",\n        //   shortcut: [\"alt\", \"f\"],\n        //   parameter: \"Search Query\",\n        // },\n        {\n          command: \"/d\",\n          name: \"Delete active file\",\n          shortcut: [\"alt\", \"x\"],\n          parameter: null,\n        },\n        {\n          command: \"/r\",\n          name: \"Rename active file\",\n          shortcut: [\"alt\", \"r\"],\n          parameter: \"New name\",\n        },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters(\"Editor\", [\"getActiveEditor\", \"getActiveFiles\"]),\n    filtererdCommands() {\n      const regex = new RegExp(this.command ? this.command.trim() : \"\", \"i\");\n      return this.commands\n        .filter((item) => regex.test(item.command))\n        .sort((a, b) =>\n          a.command > b.command ? 1 : b.command > a.command ? -1 : 0\n        )\n        .sort((a, b) =>\n          a.name && b.name\n            ? a.name > b.name\n              ? 1\n              : b.name > a.name\n              ? -1\n              : 0\n            : 0\n        );\n    },\n  },\n  methods: {\n    ...mapActions(\"Files\", [\n      \"createFile\",\n      \"createDirectory\",\n      \"deleteFile\",\n      \"renameFile\",\n    ]),\n    ...mapActions(\"Editor\", [\"closeFile\", \"openFile\"]),\n    toggleCommandMenu() {\n      this.showMenu = !this.showMenu;\n      if (this.showMenu) {\n        setTimeout(() => {\n          this.$refs.commandInput.focus();\n        }, 300);\n      } else {\n        this.command = null;\n        this.activeCommand = null;\n        this.parameter = null;\n      }\n    },\n    async execute() {\n      console.log(\"Executing...\");\n      // check if the commands are valid or not\n      let commandToExecute = null;\n      if (this.activeCommand) {\n        commandToExecute = this.activeCommand;\n      } else if (this.command && this.command.length > 0) {\n        const findCommand = this.commands.find(\n          (item) => item.command === this.command.trim()\n        );\n        if (findCommand) {\n          commandToExecute = findCommand;\n        } else {\n          console.log(\"No command found\");\n          this.toggleCommandMenu();\n        }\n      } else {\n        console.log(\"Not a valid command\");\n        this.toggleCommandMenu();\n      }\n\n      if (!commandToExecute) {\n        this.toggleCommandMenu();\n        return;\n      }\n\n      let activeFile = null;\n      switch (commandToExecute.command) {\n        case \"/k\":\n          this.toggleCommandMenu();\n          break;\n        case \"/n\":\n          if (this.parameter && this.parameter.length > 0) {\n            const file = await this.createFile({ name: this.parameter });\n            this.openFile(file);\n          } else {\n            this.createFile({ editable: true });\n          }\n          this.toggleCommandMenu();\n          break;\n        case \"/f\":\n          if (this.parameter && this.parameter.length > 0) {\n            this.createDirectory({ name: this.parameter });\n          } else {\n            this.createDirectory({ editable: true });\n          }\n          this.toggleCommandMenu();\n          break;\n        case \"/w\":\n          activeFile = this.getActiveFiles[this.getActiveEditor];\n          if (activeFile && activeFile.id) {\n            this.closeFile({ editor: this.getActiveEditor, id: activeFile.id });\n          }\n          this.toggleCommandMenu();\n          break;\n        case \"/d\":\n          activeFile = this.getActiveFiles[this.getActiveEditor];\n          if (activeFile && activeFile.id) {\n            this.deleteFile(activeFile);\n          }\n          this.toggleCommandMenu();\n          break;\n        case \"/r\":\n          activeFile = this.getActiveFiles[this.getActiveEditor];\n          if (this.parameter && this.parameter.length > 0 && activeFile) {\n            this.renameFile({ id: activeFile.id, name: this.parameter });\n          }\n          this.toggleCommandMenu();\n          break;\n        default:\n          this.toggleCommandMenu();\n      }\n    },\n    clearIfEmpty(e) {\n      if (\n        e &&\n        e.keyCode === 8 &&\n        !(this.parameter && this.parameter.length > 0)\n      ) {\n        this.activeCommand = null;\n        this.$refs.commandInput.focus();\n      }\n    },\n  },\n  watch: {\n    command(value) {\n      for (let i = 0; i < this.commands.length; i++) {\n        const commandItem = this.commands[i];\n        // check if the command matches and the command requires a parameter\n        if (value === `${commandItem.command} ` && commandItem.parameter) {\n          // set the active command and ask user for the parameter\n          this.activeCommand = commandItem;\n          setTimeout(() => {\n            this.$refs.parameterInput.focus();\n          }, 100);\n          console.log(commandItem);\n          return;\n        }\n      }\n\n      this.activeCommand = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.toggle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 12px;\n  right: 12px;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  color: var(--font-color);\n  background: var(--color-primary);\n  transition: 0.1s all ease-in-out;\n\n  &:hover {\n    cursor: pointer;\n    // transform: scale(1.05);\n    box-shadow: 0 10px 15px var(--color-secondary);\n  }\n\n  &:active {\n    opacity: 0.8;\n  }\n}\n\n.command-center {\n  z-index: 9999;\n\n  .command-menu {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: var(--popup-background);\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n\n    .command-card {\n      display: flex;\n      flex-direction: column;\n      width: 90%;\n      max-width: 500px;\n      border-radius: 5px;\n      background: var(--color-secondary);\n      margin-top: 150px;\n\n      .header {\n        display: flex;\n        align-items: center;\n        background: var(--color-secondary-light);\n        margin: 5px;\n        padding: 0 15px 0 10px;\n\n        .left-icon {\n          margin-right: 5px;\n        }\n\n        input {\n          flex: 1;\n          background: transparent;\n          border: 0;\n          padding: 15px 5px;\n          color: var(--font-color);\n          min-width: 20px;\n          outline: none;\n        }\n\n        #command-input {\n          font-weight: bold;\n          color: var(--color-accent);\n        }\n\n        .parameter-input {\n          flex: 1;\n          padding: 15px 0;\n        }\n\n        .arrow-button {\n          border: 0;\n          padding: 0;\n          background: transparent;\n          color: var(--font-color);\n          opacity: 0.3;\n\n          &.active {\n            opacity: 1;\n          }\n        }\n      }\n\n      .contents {\n        display: flex;\n        flex-direction: column;\n\n        .item {\n          padding: 15px;\n          display: grid;\n          grid-template-columns: auto auto 1fr auto;\n          align-items: center;\n\n          .command {\n            padding: 0 10px;\n            font-weight: bold;\n            // color: var(--color-primary);\n          }\n\n          .name {\n            opacity: 0.8;\n            .parameter {\n              margin-left: 5px;\n              opacity: 0.3;\n            }\n          }\n\n          .shortcut {\n            opacity: 0.7;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}